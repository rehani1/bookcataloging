{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="author" content="Rehan Islam" />
  <title>Profile</title>
  <link rel="stylesheet" href="{% static 'bookcataloging/home.css' %}">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>
  <header>
    {% include "bookcataloging/navbar.html" %}
  </header>
  <div class="container text-left my-4">
    <div class="d-flex justify-content-end mb-3">
      <a href="{% url 'bookcataloging:edit_profile' %}" class="btn btn-secondary mr-2 ">Edit Profile</a>
      {% if user_role == "Librarian" %}
      <a href="{% url 'bookcataloging:view_patrons' %}" class="btn btn-secondary">View Patrons</a>
      {% endif %}
    </div>
    <form method="POST" enctype="multipart/form-data" id="profile-pic-form">
      {% csrf_token %}
      <div>
        <img
          src="{% if profile.profile_picture %}{{ profile.profile_picture.url }}
          {% else %}
          https://static.vecteezy.com/system/resources/thumbnails/005/544/718/small_2x/profile-icon-design-free-vector.jpg{% endif %}"
          width="200" height="200" class="bordered-image rounded-circle" alt="Profile Picture"
          id="profile-pic-preview" />

      </div>
    </form>
    <h1 class="mt-3">{{profile.user.first_name}} {{profile.user.last_name}}</h1>
    <p><strong>Email:</strong> {{ profile.user.email }}</p>
    <p><strong>Date Joined:</strong> {{ profile.user.date_joined|date:"F j, Y" }}</p>
    <p class="lead">{{ profile.description }}</p>
    <p1><em>{{ profile.quote }}</em></p1>
  </div>
  <div style="display: flex; justify-content: space-around; margin: 20px 0">
    <div>
      <h3>Books Read</h3>
      <p>{{ profile.books_read }}</p>
    </div>
    <div>
      <h3>Pages Read</h3>
      <p>{{ profile.pages_read }}</p>
    </div>
    <div>
      <h3>Friends</h3>
      <p>{{ profile.friends }}</p>
    </div>
  </div>
  <script src="{% static '../static/bookcataloging/profile.js' %}" defer></script>

</body>
<footer>
  {% include "bookcataloging/footer.html" %}
</footer>
</html>